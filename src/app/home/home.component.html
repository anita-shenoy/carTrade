<div class="p-4">
    <div  class="container align">        
        <h1>Welcome {{loggedUser.firstName}}</h1>
        <h1>Ongoing Highest Bid:  {{maxBidValue}}</h1>
</div>

<div class="mat-elevation-z8">
    <div class= "table">
    <table style="width: 100%;" mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="username">
            <th mat-header-cell *matHeaderCellDef> User </th>
            <td mat-cell *matCellDef="let row"> {{row.username}} </td>
          </ng-container>

        <ng-container matColumnDef="imageUrl">
            <th mat-header-cell *matHeaderCellDef> Image Url </th>
            <td mat-cell *matCellDef="let row"> <img [src]="row.imageUrl" (click)= "showImage(row)"/> </td>
          </ng-container>
  
      <!-- TransmissionType Column -->
      <ng-container matColumnDef="transmissionType">
        <th mat-header-cell *matHeaderCellDef > TransmissionType  </th>
        <td mat-cell *matCellDef="let row"> {{row.transmissionType}} </td>
      </ng-container>

      <!-- TransmissionType Column -->
      <ng-container matColumnDef="fuel">
        <th mat-header-cell *matHeaderCellDef > Fuel  </th>
        <td mat-cell *matCellDef="let row"> {{row.fuel}} </td>
      </ng-container>
      
      <!-- vehicleInfo Column -->
      <ng-container matColumnDef="vehicleInfo">
        <th style="padding-left: 50px;" mat-header-cell *matHeaderCellDef > VehicleInfo  </th>
        <td mat-cell style="text-align: left;" *matCellDef="let row"> 
            <ul *ngFor="let info of row.vehicleInfo">
            <li > Torque: {{info.Torque}}</li>
            <li> Range: {{info.Range}}</li>
            <li> Engine: {{info.Engine}}</li>
        </ul>
         </td>
      </ng-container>

  
      <!-- Remaining time Column -->
      <ng-container matColumnDef="remainingTime">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Remaining Time </th>
        <td mat-cell *matCellDef="let row"> <countdown  [config]= "{leftTime: row.remainingTime}"></countdown></td>
      </ng-container>
  
      <!-- Bid Rate -->
      <ng-container matColumnDef="Bid">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Bid </th>
        <td mat-cell *matCellDef="let row" [style.color] = "buyerMaxBid(row.Bid, row.username) ? 'red' : 'blue' " > {{row.Bid | currency:'EUR':true}} </td>
      </ng-container>
      <!-- [ngClass]="{selected: buyerMaxBid(row.Bid, row.id)}" -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>
  
      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
      </tr>
    </table>  
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
    </div>
  </div>
<!-- 
  <mat-toolbar color="primary">
   Current Auction
  </mat-toolbar>
  <div fxLayout="row wrap" fxLayoutGap="16px grid" class="content">
      <div  fxFlex="25%"  fxFlex.xs="100%" fxFlex.sm="33%"  *ngFor = "let row of users">
    <mat-card *ngIf = "row.remainingTime > 0"  class="mat-elevation-z4">
      <mat-card-header>
        <mat-card-title> {{row.VehicleName}}</mat-card-title>
      </mat-card-header>
      <img mat-card-image [src]="row.imageUrl">
      <mat-card-content>
        <p>
          {{row.Vehicle_Info.fuel}}
        </p>
        <countdown  [config]= "{leftTime: row.remainingTime}"></countdown>

      </mat-card-content>
      <mat-card-actions>
        <button mat-button>LIKE</button>
        <button mat-button>SHARE</button>
      </mat-card-actions>
    </mat-card>
    </div>
  </div> -->

  <!-- Creates the bootstrap modal where the image will appear -->
<div [style.display]="showModal ? 'block' : 'none'" class="modal" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="myModalLabel"></h4>
          <button type="button" class="btn btn-default" data-dismiss="modal" (click) = "hide()">Close</button>
        </div>
        <div class="modal-body">
          <img src={{selectedImage}} id="imagepreview" style="width: 425px; height: 425px;" >
          
        </div>
        <div class="modal-footer">
          
        </div>
      </div>
    </div>
    
</div>